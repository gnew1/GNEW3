name: Help Center CI
on:
  pull_request:
    paths: ["apps/web/content/help/**","apps/web/src/modules/help/**","tools/**","services/helpdesk/**"]
  push:
    branches: [main]
    paths: ["apps/web/content/help/**","services/helpdesk/**","tools/**"]

jobs:
  validate-and-build-index:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with: { node-version: 20 }
      - name: Install
        run: pnpm i
      - name: Validate freshness & owners
        run: pnpm tsx tools/validate-help-freshness.ts
      - name: Build semantic index
        run: pnpm tsx tools/build-help-index.ts

  helpdesk-tests:
    runs-on: ubuntu-latest
    services:
      postgres:
        image: postgres:15
        env:
          POSTGRES_PASSWORD: postgres
          POSTGRES_DB: gnew
        ports: ["5432:5432"]
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with: { node-version: 20 }
      - name: Install
        working-directory: services/helpdesk
        run: npm ci
      - name: Migrate
        working-directory: services/helpdesk
        env: { DATABASE_URL: postgres://postgres:postgres@localhost:5432/gnew }
        run: npm run migrate
      - name: Build
        working-directory: services/helpdesk
        run: npm run build

 
10) DoD (Definition of Done)
â—	âœ… Knowledge base navegable en /help con bÃºsqueda semÃ¡ntica (embeddings locales) y i18n/a11y.

â—	âœ… GuÃ­a â€œCÃ³mo empezarâ€ publicada y enlazada desde onboarding.

â—	âœ… Widget contextual visible en todas las pantallas, mostrando sugerencias por pantalla y por error/evento.

â—	âœ… Feedback por artÃ­culo capturado y consultable (score 1â€“5 + texto).

â—	âœ… Flujos de ticket L1 desde artÃ­culos (creaciÃ³n + mensajes).

â—	âœ… Freshness/owners validados en CI; build falla si falta owner o si lastReviewed > 90 dÃ­as.

â—	âœ… Observabilidad (Prometheus) y paneles Grafana.

â—	ğŸ¯ KPI: reducciÃ³n de tickets L1 â‰¥ X% vs baseline de 4 semanas (definir X con Soporte/Data).

 
11) Riesgos & Controles
â—	DocumentaciÃ³n obsoleta â†’ Control: validate-help-freshness.ts + owner obligatorio + â€œlast reviewedâ€.

â—	Sesgo en recomendaciones â†’ Control: bÃºsquedas semÃ¡nticas locales, lista blanca por audiencia, auditorÃ­a mensual de consultas/tasa de Ã©xito.

â—	Privacidad (GDPR) â†’ Control: no PII en feedback; user_anon_id seudÃ³nimo; retenciÃ³n mÃ­nima; ticket opcional sin cuenta.

â—	Sobrecarga en soporte â†’ Control: escalado automÃ¡tico a L1 solo tras intentos fallidos y lectura de artÃ­culo.

 
12) Notas de integraciÃ³n con N51â€“N57
â—	N51 Web: HelpProvider + HelpWidget incluidos en layout; atajos ?help=slug abren artÃ­culo directo.

â—	N53 Onboarding: enlaces contextuales a â€œgetting-startedâ€.

â—	N54 Learning: artÃ­culos â€œcÃ³moâ€ embebibles en tutoriales; compartir componentes MDX (Callout, VideoPlayer).

â—	N55 GamificaciÃ³n: puntos simbÃ³licos al usuario que lee y resuelve sin abrir ticket (evento help_resolved).

â—	N56 DID Auth: ticket anÃ³nimo permitido; si el usuario inicia sesiÃ³n, adjunta sub (DID) como user_anon_id.

â—	N57 PersonalizaciÃ³n: prioridad en resultados segÃºn rol/actividad (se puede alimentar ranking local con seÃ±ales).

 
Â¿Quieres que agregue un script de migraciÃ³n de tickets a tu CRM o un bot de respuestas sugeridas (retrieval augmented sobre la KB) para L1? Puedo incluirlo en el mismo estilo.
TÃº dijiste:
programa a nivel de detalle para gnew N58 6.8 Centro de ayuda interactivo (Prompt 58) Objetivo: Ayuda contextual, buscador semÃ¡ntico y flujos de soporte. Roles: Soporte, Tech Writer, Frontend, Data. Stack: MDX, embeddings locales, feedback por artÃ­culo. Entregables: Knowledge base, guÃ­a â€œcÃ³mo empezarâ€, flujos de ticket. Pasos: Widget de ayuda contextual por pantalla. Recomendaciones segÃºn error/evento. Pruebas / DoD: ReducciÃ³n tickets L1 â‰¥ X%. Riesgos & Controles: DocumentaciÃ³n obsoleta â†’ owners por secciÃ³n.
ChatGPT Plus
PensÃ³ durante 36s
